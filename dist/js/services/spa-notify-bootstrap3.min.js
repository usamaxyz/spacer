"use strict";var spaNotifyBootstrap3=function(){var i,o,e,a=(i={},o={},e=function t(e){this.options={title:e.title?e.title:t.defaults.title,message:e.message?e.message:t.defaults.message,status:e.status?e.status:t.defaults.status,icon:e.icon?e.icon:t.defaults.icon,pos:e.pos?e.pos:t.defaults.pos,timeout:null!=e.timeout?e.timeout:t.defaults.timeout},this.uuid="ID"+(new Date).getTime()+"RAND"+Math.ceil(1e5*Math.random()),this.element=$(['<div class="spa-notify-message alert-dismissable">','<a class="close">&times;</a>',e.title?"<strong>"+e.title+"</strong><br>":"","<div>"+(e.icon?e.icon+" ":"")+this.options.message+"</div>","</div>"].join("")).data("notifyMessage",this),this.options.status&&this.element.addClass("alert alert-"+this.options.status),o[this.uuid]=this,i[this.options.pos]||(i[this.options.pos]=$('<div class="spa-notify spa-notify-'+this.options.pos+'"></div>').appendTo("#notify").on("click",".spa-notify-message",function(){$(this).data("notifyMessage").close()}))},$.extend(e.prototype,{show:function(){if(!this.element.is(":visible")){var e=this;i[this.options.pos].show().prepend(this.element);var t=parseInt(this.element.css("margin-bottom"),10);return this.element.css({opacity:0,"margin-top":-1*this.element.outerHeight(),"margin-bottom":0}).animate({opacity:1,"margin-top":0,"margin-bottom":t},function(){if(e.options.timeout){var t=function(){e.close()};e.timeout=setTimeout(t,e.options.timeout),e.element.hover(function(){clearTimeout(e.timeout)},function(){e.timeout=setTimeout(t,e.options.timeout)})}}),this}},close:function(t){var e=this,s=function(){e.element.remove(),i[e.options.pos].children().length||i[e.options.pos].hide(),delete o[e.uuid]};this.timeout&&clearTimeout(this.timeout),t?s():this.element.animate({opacity:0,"margin-top":-1*this.element.outerHeight(),"margin-bottom":0},function(){s()})}}),e.defaults={title:"",message:"",status:"normal",icon:"",timeout:5e3,pos:"bottom-right"},{notify:function(t){return new e(t).show()},closeAll:function(t){for(var e in o)o[e].close(t)}});return{flash:function(t,e,s,i,o,n){a.notify({title:t,message:e,status:s,icon:spa.resource.get("icon."+i)||i,pos:n,timeout:o})}}}();